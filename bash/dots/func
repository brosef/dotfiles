#!/usr/bin/env bash

# Super quick note
function n () {
  title=$(date +%Y-%m-%d)
  note=$*
  echo $(date): $note >> ~/Desktop/Note_${title}.txt
}


# Check price of individual cryptocurrency
#
# Dependency: jq (brew install jq)
#
# Usage: `coin btc` (use ticker symbol; case-insensitive)
# Output: Bitcoin (BTC) $8,999.99

function coin () {
  id=$(curl -s https://api.coinmarketcap.com/v2/listings/ | jq --arg x "${1^^}" '.data[] | if .symbol == $x then .id else empty end')
  ticker=$(curl -s https://api.coinmarketcap.com/v2/ticker/$id/)
  name=$(echo $ticker | jq -cr '.data.name')
  price=$(echo $ticker | printf "%.2f\n" $(jq -cr '.data.quotes.USD.price'))
  echo $name" (${1^^}) \$"$price
}
